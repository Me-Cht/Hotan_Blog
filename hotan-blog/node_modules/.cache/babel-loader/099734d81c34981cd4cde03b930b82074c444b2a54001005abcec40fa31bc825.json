{"ast":null,"code":"// Simple typographyc replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\nfunction replace_scoped(inlineTokens) {\n  var i, token;\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n    if (token.type === 'text') {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n  }\n}\nfunction replace_rare(inlineTokens) {\n  var i, token;\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n    if (token.type === 'text') {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content.replace(/\\+-/g, '±')\n        // .., ..., ....... -> …\n        // but ?..... & !..... -> ?.. & !..\n        .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..').replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n        // em-dash\n        .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n        // en-dash\n        .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2').replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n  }\n}\nmodule.exports = function replace(state) {\n  var blkIdx;\n  if (!state.md.options.typographer) {\n    return;\n  }\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline') {\n      continue;\n    }\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n  }\n};","map":{"version":3,"names":["RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","c","r","p","tm","replaceFn","match","name","toLowerCase","replace_scoped","inlineTokens","i","token","length","type","content","replace","replace_rare","test","module","exports","state","blkIdx","md","options","typographer","tokens","children"],"sources":["/Users/chenhetian/04Front_end/FruitVue0629/hotan-blog/node_modules/markdown-it/lib/rules_core/replacements.js"],"sourcesContent":["// Simple typographyc replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n    if (token.type === 'text') {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n    if (token.type === 'text') {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n                    .replace(/\\+-/g, '±')\n                    // .., ..., ....... -> …\n                    // but ?..... & !..... -> ?.. & !..\n                    .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n                    .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n                    // em-dash\n                    .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n                    // en-dash\n                    .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n                    .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}