{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api, { getFruit } from '@/api/api.js';\nimport axios from \"axios\";\n// const API_All_Fruit = 'http://localhost:8088/api/product/findAll'\n\nexport default {\n  computed: {\n    username() {\n      // 我们很快就会看到 `params` 是什么\n      return this.$route.params.username;\n    }\n  },\n  name: \"detail\",\n  data() {\n    return {\n      fruits: [],\n      selectedFruit: null,\n      delete: false\n    };\n  },\n  mounted() {\n    api.getFruit().then(response => {\n      this.fruits = response.data;\n      console.log(this.data().fruits);\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  methods: {\n    deleteProduct(id) {},\n    handleEdit(id) {\n      this.$router.push({\n        path: `/edit/${id}`\n      });\n    },\n    handleDelete(id) {\n      this.$confirm('是否删除该数据', '确认信息', {\n        distinguishCancelAndClose: true,\n        confirmButtonText: '确认',\n        cancelButtonText: '取消'\n      }).then(() => {\n        this.$message({\n          type: 'info',\n          message: '确认'\n        });\n        this.distinguishCancelAndClose = true;\n        axios.delete(`http://hotan.site:8088/api/product/delete/${id}`).then(response => {\n          axios.get().then(response => {\n            this.fruits = response.data;\n          });\n        }).catch(error => {\n          console.log('error!', error);\n        });\n      }).catch(action => {\n        this.$message({\n          type: 'info',\n          message: action === 'cancel' ? '已取消该操作' : '删除成功！'\n        });\n        this.distinguishCancelAndClose = false;\n      });\n\n      // ...\n    }\n  }\n};","map":{"version":3,"names":["api","getFruit","axios","computed","username","$route","params","name","data","fruits","selectedFruit","delete","mounted","then","response","console","log","catch","error","methods","deleteProduct","id","handleEdit","$router","push","path","handleDelete","$confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","$message","type","message","get","action"],"sources":["src/views/fruit/detail/FruitDetail.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>商品管理</h1>\n    <el-table :data=\"fruits\" style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"编号\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\n      <el-table-column prop=\"description\" label=\"描述\"></el-table-column>\n      <el-table-column prop=\"price\" label=\"价格\"></el-table-column>\n      <el-table-column prop=\"change\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"warning\" size=\"small\" @click=\"handleEdit(scope.row.id)\">修改<i class=\"el-icon-edit\"></i></el-button>\n          <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope.row.id)\"><i class=\"el-icon-delete\"></i>\n          </el-button>\n        </template>\n      </el-table-column>\n\n\n\n    </el-table>\n  </div>\n\n</template>\n\n<script>\nimport api, {getFruit} from '@/api/api.js';\n\nimport axios from \"axios\";\n// const API_All_Fruit = 'http://localhost:8088/api/product/findAll'\n\nexport default{\n  computed: {\n    username() {\n// 我们很快就会看到 `params` 是什么\n      return this.$route.params.username\n    },\n  },\n  name:\"detail\",\n  data() {\n    return {\n      fruits: [],\n      selectedFruit: null,\n      delete:false,\n\n    }\n  },\n  mounted() {\n    api.getFruit()\n  .then(response => {\n        this.fruits = response.data\n        console.log(this.data().fruits)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  },\n  methods:{\n    deleteProduct(id){\n\n    },\n    handleEdit(id) {\n      this.$router.push({ path:`/edit/${id}` })\n    },\n    handleDelete(id) {\n\n      this.$confirm('是否删除该数据', '确认信息', {\n        distinguishCancelAndClose: true,\n        confirmButtonText: '确认',\n        cancelButtonText: '取消'\n      })\n        .then(() => {\n          this.$message({\n            type: 'info',\n            message: '确认',\n          })\n          this.distinguishCancelAndClose=true\n          axios.delete(`http://hotan.site:8088/api/product/delete/${id}`)\n            .then(response=>{\n              axios.get().then(response=>{\n                this.fruits = response.data\n              })\n            }).catch(error=>{console.log('error!',error)})\n\n        } )\n        .catch(action => {\n          this.$message({\n            type: 'info',\n            message: action === 'cancel'\n              ? '已取消该操作'\n              : '删除成功！'\n          })\n          this.distinguishCancelAndClose=false\n        });\n\n\n\n\n\n\n// ...\n\n\n\n    }\n\n  }\n\n\n}\n</script>\n\n\n\n\n<style scoped>\n\n</style>\n"],"mappings":";AAwBA,OAAAA,GAAA,IAAAC,QAAA;AAEA,OAAAC,KAAA;AACA;;AAEA;EACAC,QAAA;IACAC,SAAA;MACA;MACA,YAAAC,MAAA,CAAAC,MAAA,CAAAF,QAAA;IACA;EACA;EACAG,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,aAAA;MACAC,MAAA;IAEA;EACA;EACAC,QAAA;IACAZ,GAAA,CAAAC,QAAA,GACAY,IAAA,CAAAC,QAAA;MACA,KAAAL,MAAA,GAAAK,QAAA,CAAAN,IAAA;MACAO,OAAA,CAAAC,GAAA,MAAAR,IAAA,GAAAC,MAAA;IACA,GACAQ,KAAA,CAAAC,KAAA;MACAH,OAAA,CAAAC,GAAA,CAAAE,KAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAAC,EAAA,GAEA;IACAC,WAAAD,EAAA;MACA,KAAAE,OAAA,CAAAC,IAAA;QAAAC,IAAA,WAAAJ,EAAA;MAAA;IACA;IACAK,aAAAL,EAAA;MAEA,KAAAM,QAAA;QACAC,yBAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GACAjB,IAAA;QACA,KAAAkB,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA,KAAAL,yBAAA;QACA1B,KAAA,CAAAS,MAAA,8CAAAU,EAAA,IACAR,IAAA,CAAAC,QAAA;UACAZ,KAAA,CAAAgC,GAAA,GAAArB,IAAA,CAAAC,QAAA;YACA,KAAAL,MAAA,GAAAK,QAAA,CAAAN,IAAA;UACA;QACA,GAAAS,KAAA,CAAAC,KAAA;UAAAH,OAAA,CAAAC,GAAA,WAAAE,KAAA;QAAA;MAEA,GACAD,KAAA,CAAAkB,MAAA;QACA,KAAAJ,QAAA;UACAC,IAAA;UACAC,OAAA,EAAAE,MAAA,gBACA,WACA;QACA;QACA,KAAAP,yBAAA;MACA;;MAOA;IAIA;EAEA;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}